<?php
namespace wmios\survey;
use \MoodleQuickForm,\moodle_url,\stdClass;

class activity_employengage extends activity{

    public static function process_update_form(MoodleQuickForm $mform,activity_wrapper $activity_wrapper = null)
    {
        if(!$activity_wrapper || $activity_wrapper->is_new())
        {
            $filepickeroptions = array('accepted_types' => '.csv','return_types'=>FILE_INTERNAL);
            $mform->addElement('filepicker','userfile',get_string('userfile',SURVEYACTIVITYBASE_PLUGIN_NAME), null,$filepickeroptions);

        }
    }

    public static function get_add_instance_default_data(){
        return array();
    }

    public static function add_instance(stdClass $general, stdClass $special, moodleform_activity $mform = null)
    {
        $userfile = $mform->get_file_content('userfile');
    }

    public function update_instance(stdClass $general, stdClass $special, moodleform_activity $mform = null){
        if($this->_wrapper->is_new())
        {

        }
        return true;
    }

    public static function delete_instance($id){
        return true;
    }

    public function get_update_instance_data(){
        return array('dd'=>time());
    }

    public function get_view_url(){
        return new moodle_url('/mod/surveyactivity/activity/simple/view.php',array('id'=>$this->_wrapper->id));
    }

    /**
    *
    * True if this type has a global report.
    *
    * @return bool
    *
    */
    public function has_global_report()
    {
        return true;
    }

    public function start()
    {

    }

    public function stop()
    {

    }
}