<div class="activity_list_box">

    <table>
        <thead>
            <tr>
                <th>{$str->name}</th>
                <th>{$str->starttime}</th>
                <th>{$str->endtime}</th>
                <th>{$str->status}</th>
                <th>&nbsp;</th>
            </tr>
        </thead>
        <tbody>
        {foreach $activity_list as $activity_wrapper}
            {assign activity $activity_wrapper->get_activity_instance()}
            <tr>
                <td>{$activity_wrapper->name}</td>
                <td>{$activity_wrapper->starttime|date_format:'Y-m-d H:i:s'}</td>
                <td>{$activity_wrapper->endtime|date_format:'Y-m-d H:i:s'}</td>
                <td>{$activity->get_status_display()}</td>
                <td>
                    <a href="{$activity->get_view_url()->out()}">{$str->detail}</a>
                    {if ($activity_wrapper->status eq activity_wrapper::STATUS_COMPLETE) and $activity->has_global_report()}
                    <a href="{$url->report_preview->out(false)}&id={$activity_wrapper->id}">{$str->preiview_report}</a>
                    <a href="{$url->report_download->out(false)}&id={$activity_wrapper->id}">{$str->download_report}</a>
                    {/if}
                    {if $activity_wrapper->status eq activity_wrapper::STATUS_NEW}
                    <a href="{$url->start_activity->out(false)}&id={$activity_wrapper->id}">{$str->start_activity}</a>
                    {/if}
                    {if $activity_wrapper->status eq activity_wrapper::STATUS_ONGOING}
                    <a href="{$url->stop_activity->out(false)}&id={$activity_wrapper->id}">{$str->stop_activity}</a>
                    {/if}
                    <a href="{$url->delete_activity->out(false)}&id={$activity_wrapper->id}">{$str->delete}</a>
                </td>
            </tr>
        {/foreach}
        </tbody>
    </table>
</div>