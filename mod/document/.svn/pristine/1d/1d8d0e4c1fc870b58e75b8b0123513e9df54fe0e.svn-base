{include 'base_header.tpl'}
<div class="document-view-topaction">
    <a href="{$url_mod_document}/upload.php?cmid={$base->get_cm()->id}" target="_blank">{get_string('upload_document','document')}</a>
    {assign goto_other_base $base->get_course_document_base_navigation_option_array()}
    {if count($goto_other_base)}
    <span>{get_string('goto_other_document_base','document')}<select onchange="window.location.href=this.options[this.selectedIndex].value">
        {foreach $goto_other_base as $c=>$v}
        <option value="{$url_mod_document}/view.php?base_id={$c}" {if $base->id eq $c}selected="selected"{/if}>{$v}</option>
        {/foreach}
    </select>
    </span>
    {/if}
</div>
<div class="document-view-wrapper">
    <h2 class="title">{$base->name}</h2>
    <div class="document-view-outter">
        <div class="document-view-nav">
            <ul>
                <li>
                    <span class="fm-icons icon-my"></span>
                    <a href="{$url_mod_document}/upload.php?cmid={$base->get_cm()->id}&user=me" target="_self">{get_string('my_documents','document')}</a>
                </li>
                <li>
                    <span class="fm-icons icon-all"></span>
                    <a href="{$url_mod_document}/upload.php?cmid={$base->get_cm()->id}" target="_self">{get_string('all_documents','document')}</a>
                </li>
            </ul>
        </div>
        <div class="document-view-main-wrapper">
            <div class="document-view-main">
                <div class="document-view-filter">
                    <div class="filter-left">
                        <ul class="filter-conditions">
                            <li>
                                <div class="condition-name">{get_string('document_file_extension','local_wmios')}</div>
                                <div class="condition-content">
                                    <a class="on">{get_string('all')}</a>
                                    <a class="">DOC(X)</a>
                                    <a class="">PPT(X)</a>
                                    <a class="">XLS(X)</a>
                                    <a class="">PDF</a>
                                    <a class="">TXT</a>
                                </div>
                            </li>

                            {foreach $base->get_document_fields_by_type(document_field_type::TYPE_SELECT_SINGLE) as $field_type}
                            <li>
                                <div class="condition-name">
                                {$field_type->remark}
                                </div>
                                <div class="condition-content">
                                    <a class="on">{get_string('all')}</a>
                                    {foreach $field_type->dict->children as $child}
                                    <a class="">{$child->content}</a>
                                    {/foreach}
                                </div>
                            </li>
                            {/foreach}

                        </ul>
                        <a href="" class="more-conditions">{get_string('more_condtions','document')}</a>
                    </div>
                    <div class="filter-right">
                        {if !isset($user_me) or !$user_me}
                        <div class="filter-permission">
                            <a href="" class="on">{get_string('all')}</a>
                            <a href="">{get_string('document_entity_permission_private','local_wmios')}</a>
                            <a href="">{get_string('document_entity_permission_public','local_wmios')}</a>
                        </div>
                        {/if}
                        <div class="act view-switch">
                            <a href="" class="op-tolist fm-icons select-list">{get_string('view_list','document')}</a>
                            <a href="" class="op-tothumbnail fm-icons ">{get_string('view_thumb','document')}</a>
                        </div>
                    </div>
                </div>